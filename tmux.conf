# Gas Town tmux config
# Paths use $GT_HOME which should be set in your shell profile (e.g. ~/.bashrc)
# Example: export GT_HOME="$HOME/arog"

set -g default-terminal "screen-256color"
set -s escape-time 10
set -g history-limit 5000
set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on
set -g mouse on
set -g status-interval 5

# -- status bar ----------------------------------------------------------------

set -g status 2
set -g status-style "fg=colour245,bg=colour232"
set -g status-left-length 200
set -g status-right-length 200

# Line 1 left: mayor badge + user[town]
set -g status-left "\
#[fg=colour232,bg=colour220,bold] ðŸŽ© #(cat ~/.gt-mayor-name 2>/dev/null || echo Mayor) \
#[fg=colour220,bg=colour24]#[fg=colour255,bg=colour24,bold] ðŸ‘¤#(whoami) ðŸ“#(basename $GT_HOME 2>/dev/null || echo gt) \
#[fg=colour24,bg=colour238]#[fg=colour250,bg=colour238] ðŸ“±#($GT_HOME/services/telegram-bot/gt-bot --version 2>/dev/null) @#(cat ~/.gt-bot-name 2>/dev/null) \
#[fg=colour238,bg=colour232] "

# Line 1 right: gt status (filtered) + time
set -g status-right "\
#($GT_HOME/gthelper/tmux-status-right.sh hq-mayor) \
#[fg=colour245]%H:%M %d %b "

# Line 2: rig overview
set -g status-format[1] "\
#[fill=colour232,align=left,bg=colour232,fg=colour245]\
#($GT_HOME/gthelper/tmux-rig-status.sh)"

# Hide window list (single window, info is on line 2)
setw -g window-status-format ""
setw -g window-status-current-format ""

# -- navigation ----------------------------------------------------------------

set -g prefix C-b
bind r source-file ~/.config/tmux/tmux.conf \; display "Config reloaded"
bind - split-window -v -c "#{pane_current_path}"
bind | split-window -h -c "#{pane_current_path}"
bind -r h select-pane -L
bind -r j select-pane -D
bind -r k select-pane -U
bind -r l select-pane -R
